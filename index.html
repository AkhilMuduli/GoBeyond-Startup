<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>gobeyond — slider with waitlist</title>

<!-- CSS -->
<link rel="stylesheet" href="style.css"/>

<!-- Libraries -->
<script src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.3.7/pixi.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@pixi/filter-rgb-split@3.1.1/dist/filter-rgb-split.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/hmongouachon/rgbKineticSlider@master/js/rgbKineticSlider.js"></script>
</head>
<body>
  <!-- Header -->
  <div class="header no-follow">
    <div class="top-nav">
      <div class="logo"><img src="logo (2).png" alt="logo"></div>
    </div>
  </div>

  <!-- Slider -->
  <div class="slider">
    <div id="rgbKineticSlider" class="rgbKineticSlider">
      <nav>
        <a href="#" class="main-nav prev" data-nav="previous">Prev</a>
        <a href="#" class="main-nav next" data-nav="next">Next</a>
      </nav>
    </div>
  </div>

  <!-- Waitlist Toggle -->
  <button class="waitlist-toggle no-follow" id="waitlistToggle">
    <span class="text">Join Waitlist</span>
    <span class="arrow join">➜</span>
  </button>

  <!-- Waitlist Panel -->
  <div class="waitlist-panel no-follow" id="waitlistPanel">
    <button class="waitlist-close" id="waitlistClose">&times;</button>
    <div class="waitlist-content">
      <h2>Leave your info so we can save your spot on Beyond’s early creator list.</h2>
      <p>Early access to campaigns – Priority to brand deals – New creator connects</p>
      <form id="waitlistForm" class="waitlistForm">
        <input type="email" placeholder="Email ID*" required />
        <div class="whatsapp-wrapper">
          <div class="country-code">
            <img src="https://flagcdn.com/w40/in.png" alt="India Flag" class="flag-icon">
            <select name="country" id="countryCode">
              <option value="+91">+91</option>
            </select>
          </div>
          <input type="tel" placeholder="10-digit WhatsApp Number" class="phone-number" maxlength="10" pattern="[0-9]{10}" />
        </div>
        <input type="text" placeholder="Instagram Link" required/>
        <input type="text" placeholder="YouTube Link" />
        <button type="submit" class="submit-btn">
          <span>Submit</span> <span class="arrow">➜</span>
        </button>
      </form>
    </div>
    <div class="links">
      <a href="PrivacyPolicy.html">Privacy Policy</a>
      <a href="TnC.html">Terms & Conditions</a>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bottom-bar no-follow">
    <div class="left-text">Creator Stack, Reimagined!</div>
    <div class="right-text">
      <div class="social-icons">
        <a href="#"><img src="icons/iconmonstr-instagram-11.svg" alt="Instagram"></a>
        <a href="#"><img src="icons/icons8-x-50.png" alt="X"></a>
        <a href="#"><img src="icons/iconmonstr-youtube-6.svg" alt="YouTube"></a>
        <a href="#"><img src="icons/iconmonstr-linkedin-3.svg" alt="LinkedIn"></a>
      </div>
      <a href="#" class="Copyright">©2025 @gobeyond Pvt. Ltd.</a>
    </div>
  </footer>

  <!-- Mouse Follower -->
  <div class="mouse-follower" id="mouseFollower"><span>Double Tap</span></div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const desktopImages = ["s1.png","s4.png","s2.png","s3.png"];
  const mobileImages  = ["Phone and Pad Banners/1.png","Phone and Pad Banners/2.png","Phone and Pad Banners/3.png","Phone and Pad Banners/4.png"];
  const tabletImages  = ["Phone and Pad Banners/ipad1.png","Phone and Pad Banners/ipad2.png","Phone and Pad Banners/ipad3.png","Phone and Pad Banners/ipad4.png"];
  const texts = [""];

  const container = document.getElementById('rgbKineticSlider');
  let sliderInstance = null;
  let currentMode = null;

  function getMode(){
    const w = window.innerWidth;
    if (w <= 768) return 'mobile';
    if (w <= 1024) return 'tablet';
    return 'desktop';
  }
  function imagesFor(mode){
    if (mode === 'mobile') return mobileImages;
    if (mode === 'tablet') return tabletImages;
    return desktopImages;
  }
  function applyCoverScaling(slider){
    if (!slider) return;
    const stage = slider.app?.stage || slider.stage;
    const vw = window.innerWidth, vh = window.innerHeight;
    function walk(node){
      node.children?.forEach(child=>{
        if (child.texture){
          const texW = child.texture.orig?.width || child.texture.width || 1;
          const texH = child.texture.orig?.height || child.texture.height || 1;
          const s = Math.max(vw/texW, vh/texH);
          child.scale.set(s);
          child.x = (vw - child.width) / 2;
          child.y = (vh - child.height) / 2;
        }
        if (child.children?.length) walk(child);
      });
    }
    walk(stage);
    slider.app?.renderer?.resize(vw, vh);
  }
  function destroySlider(slider){
    if (!slider) return;
    slider.destroy?.(true);
    slider.app?.destroy?.(true);
    container.querySelectorAll('canvas').forEach(c=>c.remove());
  }
  function initSlider(mode){
    const imgs = imagesFor(mode);
    window.images = imgs;
    destroySlider(sliderInstance);
    sliderInstance = new rgbKineticSlider({
      slideImages: imgs,
      itemsTitles: texts,
      backgroundDisplacementSprite: "Effect1.avif",
      cursorDisplacementSprite: "displace-circle.png",
      cursorScaleIntensity: 0.3,
      cursorMomentum: 0.14,
      swipe: true,
      swipeDistance: window.innerWidth * 0.4,
      swipeScaleIntensity: 0.5,
      slideTransitionDuration: 2,
      transitionScaleIntensity: 30,
      transitionScaleAmplitude: 160,
      nav: true,
      imagesRgbEffect: false,
      textsDisplay: true,
      textTitleSize: 140,
      textsTitleEffect: true,
      googleFonts: ["Playfair Display:400"],
      textsRgbEffect: true,
      textsRgbIntensity: 3
    });
    setTimeout(()=>applyCoverScaling(sliderInstance),150);
  }
  currentMode = getMode();
  initSlider(currentMode);
  imagesLoaded(container, () => {
  applyCoverScaling(sliderInstance);
});

  // window.addEventListener('resize', ()=>{
  //   const nm = getMode();
  //   if (nm !== currentMode){
  //     currentMode = nm;
  //     initSlider(currentMode);
  //   } else {
  //     applyCoverScaling(sliderInstance);
  //   }
  });

  /* Mouse follower */
  const follower = document.getElementById('mouseFollower');
  let mouseX = window.innerWidth/2, mouseY = window.innerHeight/2;
  let currentX = mouseX, currentY = mouseY;
  function animateFollower(){
    currentX += (mouseX - currentX) * 0.15;
    currentY += (mouseY - currentY) * 0.15;
    follower.style.transform = `translate(${currentX}px, ${currentY}px) translate(-50%, -50%)`;
    requestAnimationFrame(animateFollower);
  }
  animateFollower();
  document.addEventListener('mousemove', e=>{
    mouseX = e.clientX;
    mouseY = e.clientY;
  });
  setInterval(()=>{
    follower.classList.add('pulse');
    setTimeout(()=>follower.classList.remove('pulse'), 4000);
  }, 5000);
  document.querySelectorAll('.no-follow').forEach(el=>{
    el.addEventListener('mouseenter', ()=>follower.classList.add('hidden'));
    el.addEventListener('mouseleave', ()=>follower.classList.remove('hidden'));
  });
  let clickCount=0, clickTimer=null;
  function goNext(){ document.querySelector('.main-nav.next')?.click(); }
  document.addEventListener('click', ()=>{
    clickCount++;
    if (clickCount===1){
      clickTimer=setTimeout(()=>clickCount=0, 400);
    } else if (clickCount===2){
      clearTimeout(clickTimer);
      clickCount=0;
      goNext();
    }
  });
  document.addEventListener('touchend', ()=>{
    clickCount++;
    if (clickCount===1){
      clickTimer=setTimeout(()=>clickCount=0, 400);
    } else if (clickCount===2){
      clearTimeout(clickTimer);
      clickCount=0;
      goNext();
    }
  });

  /* Waitlist toggle */
  const toggleBtn = document.getElementById("waitlistToggle");
  const panel = document.getElementById("waitlistPanel");
  const panelClose = document.getElementById("waitlistClose");
  toggleBtn.addEventListener("click", () => {
    panel.classList.toggle("active");
    toggleBtn.classList.toggle("collapsed");
  });
  panelClose.addEventListener("click", () => {
    panel.classList.remove("active");
    toggleBtn.classList.toggle("collapsed");
  });
});
</script>
</body>
</html>

